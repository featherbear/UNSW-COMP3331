<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>P2P Communication - COMP3331 Musings</title><meta name=renderer content=webkit><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content=no-transform><meta http-equiv=cache-control content=no-siteapp><meta name=theme-color content=#f8f5ec><meta name=msapplication-navbutton-color content=#f8f5ec><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#f8f5ec><meta name=author content=z5206677><meta name=description content="Peer-to-Peer  Each device is both a client and a server Does not require a machine that is always on Self scability - each client adds extra capacity Parallelism, less contention (resource access conflict) Redundancy  There are some cons though:"><meta name=keywords content=Hugo,theme,even><meta name=generator content="Hugo 0.58.2 with theme even"><link rel=canonical href=../../post/p2p/><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../manifest.json><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><link href=../../dist/even.c2a46f00.min.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><link rel=stylesheet href=../../css/typedjs.shortcode.css><meta property=og:title content="P2P Communication"><meta property=og:description content="Peer-to-Peer  Each device is both a client and a server Does not require a machine that is always on Self scability - each client adds extra capacity Parallelism, less contention (resource access conflict) Redundancy  There are some cons though:"><meta property=og:type content=article><meta property=og:url content=/post/p2p/><meta property=article:published_time content=2020-03-22T19:50:10+11:00><meta property=article:modified_time content=2020-03-22T19:50:10+11:00><meta itemprop=name content="P2P Communication"><meta itemprop=description content="Peer-to-Peer  Each device is both a client and a server Does not require a machine that is always on Self scability - each client adds extra capacity Parallelism, less contention (resource access conflict) Redundancy  There are some cons though:"><meta itemprop=datePublished content=2020-03-22T19:50:10&#43;11:00><meta itemprop=dateModified content=2020-03-22T19:50:10&#43;11:00><meta itemprop=wordCount content=354><meta itemprop=keywords content><meta name=twitter:card content=summary><meta name=twitter:title content="P2P Communication"><meta name=twitter:description content="Peer-to-Peer  Each device is both a client and a server Does not require a machine that is always on Self scability - each client adds extra capacity Parallelism, less contention (resource access conflict) Redundancy  There are some cons though:"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=../../ class=logo>COMP3331 Musings</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=../../><li class=mobile-menu-item>Home</li></a><a href=https://github.com/featherbear/UNSW-COMP3331><li class=mobile-menu-item>GitHub</li></a><a href=../../categories/><li class=mobile-menu-item>Categories</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=../../ class=logo>COMP3331 Musings</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=../../>Home</a></li><li class=menu-item><a class=menu-item-link href=https://github.com/featherbear/UNSW-COMP3331>GitHub</a></li><li class=menu-item><a class=menu-item-link href=../../categories/>Categories</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>P2P Communication</h1><div class=post-meta><span class=post-time>2020-03-22</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#peer-to-peer>Peer-to-Peer</a><ul><li><a href=#architecture>Architecture</a></li><li><a href=#file-distribution-comparison>File Distribution Comparison</a></li><li><a href=#bittorrent>BitTorrent</a></li><li><a href=#distributed-hash-tables>Distributed Hash Tables</a></li><li><a href=#circular-dht>Circular DHT</a><ul><li><a href=#circular-dht-shortcuts>Circular DHT shortcuts</a></li></ul></li><li><a href=#peer-churn>Peer Churn</a></li></ul></li></ul></nav></div></div><div class=post-content><h1 id=peer-to-peer>Peer-to-Peer</h1><ul><li>Each device is both a client and a server</li><li>Does not require a machine that is always on</li><li>Self scability - each client adds extra capacity</li><li>Parallelism, less contention (resource access conflict)</li><li>Redundancy</li></ul><p>There are some cons though:</p><ul><li>Action uncertainty - authorisation</li><li>State uncertainty</li><li>Algorithm complexity</li></ul><hr><h2 id=architecture>Architecture</h2><ul><li>No server needs to be always on</li><li>Arbitrary end-systems communicate directly to each other</li><li>Peers are intermittently connected (known as churn)</li><li>Peers have changing IP addresses</li></ul><h2 id=file-distribution-comparison>File Distribution Comparison</h2><p><img src="Screenshot from 2020-03-22 19-52-01.png" alt>
<img src="Screenshot from 2020-03-22 19-52-08.png" alt>
<img src="Screenshot from 2020-03-22 19-53-00.png" alt></p><h2 id=bittorrent>BitTorrent</h2><p>Files are divided into 256 KB chunks.</p><p><strong>Trackers</strong> are servers which maintain a list of <strong>peers</strong> which are associated with a file resource.</p><p>Periodically, each peer asks the other peers for a list of chunks that the peer has. The requesting peer would then ask for the rarest chunk from all the lists of chunks.</p><p><strong>Tit-for-tat</strong> - The top four peers that are sending chunks to a given peer, will be sent chunks back. The top 4 peers are reevaluated every 10 seconds.</p><p>Every 30 seconds, a random peer is selected to send chunks to - Prevents a peer from being choked - unable to receive chunks as they are not transmitting themselves.</p><h2 id=distributed-hash-tables>Distributed Hash Tables</h2><p>Hash Table where the data is stored and distributed between peers.</p><p>Key of a file/resource is determined by a hashing algorithm.<br>For an <code>n</code>-bit hash function, there can be up to <code>2^n</code> peer IDs (<code>0</code> - <code>2^n - 1</code>).</p><p>Assigning keys - closest ID -&gt; immediate successor</p><h2 id=circular-dht>Circular DHT</h2><p>Each peer is only aware of its immediate successor and predecessor.</p><h3 id=circular-dht-shortcuts>Circular DHT shortcuts</h3><p><strong>Number of Neighbours vs Number of Messages</strong></p><p>The smaller the number of neighbours to maintain, the larger the number of messages have to be sent</p><p>2 neighbours, 6 messages<br>Worst case: N messages<br>Average: N/2 messages</p><p>If we increase the number of <em>neighbours</em> (ie second successor, second predecessor), we can reduce the number of messages that may need to be sent around the network.</p><h2 id=peer-churn>Peer Churn</h2><p>Each peers knows the address of two of its successors, so if the immediate successor is unreachable (leaves, disconnected, etc), then the second successor will take the place as the first.</p></div><footer class=post-footer><nav class=post-nav><a class=prev href=../../post/dns/><i class="iconfont icon-left"></i><span class="prev-text nav-default">DNS</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=../../post/video-streaming/><span class="next-text nav-default">Video Streaming</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article><script>(function(f,a,t,h,o,m){a[h]=a[h]||function(){(a[h].q=a[h].q||[]).push(arguments)};o=f.createElement('script'),m=f.getElementsByTagName('script')[0];o.async=1;o.src=t;o.id='fathom-script';m.parentNode.insertBefore(o,m)})(document,window,'//ss.featherbear.cc/tracker.js','fathom');fathom('set','siteId','NEQTU');fathom('trackPageview');</script></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:z5206677@student.unsw.edu.au class="iconfont icon-email" title=email></a><a href=https://www.linkedin.com/in/andrewjinmengwong/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://github.com/featherbear class="iconfont icon-github" title=github></a><a href=https://www.instagram.com/_andrewjwong/ class="iconfont icon-instagram" title=instagram></a><a href=../../index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2020 -
2021
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>Andrew Wong (z5206677)</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=../../dist/even.26188efa.min.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-107434487-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=../../js/typed.js@2.0.9></script><script src=../../js/typedjs.shortcode.js></script></body></html>